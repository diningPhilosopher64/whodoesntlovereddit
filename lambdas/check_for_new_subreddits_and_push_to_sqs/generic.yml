function:
  handler: lambdas/check_for_new_subreddits_and_push_to_sqs/handler.check
  # events:
  #   # - schedule: cron(0 15 * * ? *)
  #   # - schedule: rate(1 minute)
    
  iamRoleStatementsName: subreddit-SQS-send-message
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - sqs:SendMessage
      Resource:
        - "*"

    - Effect: "Allow"
      Action:
        - dynamodb:PutItem
      Resource:
        - ${self:custom.DailyUploadsTable.arn}
        
  environment:
    INITIAL_SUBREDDIT_QUEUE_URL: ${self:custom.InitialSubredditQueue.name}


 